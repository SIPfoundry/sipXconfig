<?xml version="1.0" standalone="yes"?>
<!--

   Master SIP Configuration File

   Generated by sipXecs: http://www.sipfoundry.org/

   Compliant with SIP Application: spip_ssip_vvx_3_2_3_release_sig_combined.zip
   (As recommended by the Polycom Configuration File Management white paper.)

   Instructions for integrating new configuration file content into sipXconfig:
   http://wiki.sipfoundry.org/display/xecsdev/Adding+Polycom+SoundPoint+IP+New+Configuration+File+Content+into+sipXconfig

-->

## Used only by sipXconfig.
#if(${cfg.CustomConfigs})
   #set( $custom_configs = "${cfg.CustomConfigs}" )
#else
   #set( $custom_configs = "" )
#end
#if(${cfg.LicenseFileNames})
   #set( $optional_license_files = "${cfg.LicenseFileNames}" )
#else
   #set( $optional_license_files = "" )
#end

## Used only by sipXprovision.
#if(${cfg.RootUrlPath})
   #set( $optional_root_url_path = "${cfg.RootUrlPath}" )
#else
   #set( $optional_root_url_path = "" )
#end

#set( $default_fw = "${cfg.DefaultFirmware}" )

#macro( ModelSpecificAttributes $model $fw )
   APP_FILE_PATH${model}="polycom/${fw}/sip.ld"
   #if($fw == "4.0.X") 
     CONFIG_FILES${model}="${custom_configs}${optional_license_files}${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-applications.cfg,${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-features.cfg,${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-reg-advanced.cfg,${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-region.cfg,${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-sip-basic.cfg,${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-sip-interop.cfg,${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-site.cfg,${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-video.cfg"
   #else
     CONFIG_FILES${model}="${custom_configs}${optional_license_files}${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-sip.cfg, ${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-phone.cfg, ${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-device.cfg"     
   #end
#end

#macro( ModelSpecificAttributes31 $model )
   APP_FILE_PATH${model}="sip_3.1.X.ld"
   CONFIG_FILES${model}="${custom_configs}${optional_license_files}${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-sip.cfg, ${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-phone.cfg, ${optional_root_url_path}[PHONE_MAC_ADDRESS]-sipx-device.cfg, polycom_phone1_3.1.X.cfg, polycom_sip_3.1.X.cfg"
#end

#macro( ModelSpecificNode $model $fw )

   #set( $actual_model = "" )
   #if($model != "")
      #set( $actual_model = "_${model}" )
   #end
   
   <APPLICATION${actual_model}
   #if($fw == "3.1.X")
      #ModelSpecificAttributes31( $actual_model)
   #else
      #ModelSpecificAttributes( $actual_model, $fw)
   #end
   />
#end

<APPLICATION
   #ModelSpecificAttributes( "", $default_fw )
   MISC_FILES=""
   OVERRIDES_DIRECTORY="${optional_root_url_path}"
   CONTACTS_DIRECTORY="${optional_root_url_path}"
   LOG_FILE_DIRECTORY="">

#ModelSpecificNode( "SPIP301", "3.1.X" )
#ModelSpecificNode( "SPIP600", "3.1.X" )
#ModelSpecificNode( "SSIP4000", "3.1.X" )

</APPLICATION>
