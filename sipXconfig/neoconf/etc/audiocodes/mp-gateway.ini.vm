## Velocity macros
## emit comma separated list of values
## works with arrays
#macro(emit_csv_index $array $index $setting_names)
#foreach ($sn in $setting_names)
#if($velocityCount > 1),#end
#set($s=$array.getSetting("$sn[$index]"))
#if($s && $s.Value)$s.Value#else$ignore#end
#end

#end
;**************
;** Ini File **
;**************

;generated from template by sipXconfig
;------------------------------

#foreach ($s in $flatSettings)
#if($s.Leaf)
${s.ProfileName}=$!{s.Value}
#else

[${s.ProfileName}]
#end
#end

#if(${gateway.Model.Fxo})
[Trunks]
TRUNKGROUP_1=1-8,201,0
PSTNPREFIX=*,1,*,*,0
TRUNKGROUPSETTINGS=1,1

#end
[VoiceCodecs]
#foreach ($codec in $codecs)
CoderName=$codec
#end
## fxs paramaters only
#if(${gateway.Model.Fxs})

[Lines]
#foreach ($line in $phone.lines)
#set($line_id = $velocityCount - 1)
#set($trunk_id = $velocityCount)
#set($settings = $line.Settings)
#set($username = $line.getSettingValue('SIP/Authentication/Username'))
#set($password = $line.getSettingValue('SIP/Authentication/Password'))
Authentication_${line_id}=$username,$password
TRUNKGROUP=${trunk_id}-${trunk_id},${username}
#end
#end

## parameters that are not configurable per gateway go here 
[IniFileOnlyParams]
EnableLANWatchDog=1
IdlePCMPattern=85
LogoWidth=339
## end of generated file
