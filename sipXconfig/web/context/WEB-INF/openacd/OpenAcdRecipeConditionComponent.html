<fieldset>
  <ul class="component-links">
    <li>
      <a jwcid="addRecipeConditionLink@LinkSubmit" selected="ognl:addIndex" tag="ognl:recipeStepBean.position">
        <span key="link.addRecipeCondition">Add Criteria</span>
      </a>
    </li>
  </ul>
  <table>
    <span jwcid="@For" source="ognl:recipeStepBean.recipeStep.conditions" value="ognl:recipeCondition" index="ognl:index" volatile="true">
	<tr>
	  <td>
		<span jwcid="@PropertySelection" id="ognl:'condition_' + index"
		  model="ognl:conditionModel"
		  value="ognl:recipeCondition.condition"
		  onchange="javascript:this.form.submit();" />
	  </td>
	  <td>
		<span jwcid="@PropertySelection" id="ognl:'relation_' + index"
		  model="ognl:relationModel"
		  value="ognl:recipeCondition.relation" />
	  </td>
	  <td>
	  <span jwcid="@If" condition="ognl:numberComponent">
		<span jwcid="@TextField" id="ognl:'conditionValue_' + index" size="8"
		  value="ognl:recipeCondition.valueCondition"
		  validators="spring-validators:validPhone,required"
		  displayName="message:condition.value" />
	  </span>
	  <span jwcid="@Else">
	    <span jwcid="@If" condition="ognl:clientComponent">
		  <span jwcid="@openacd/OpenAcdClientSelect" id="ognl:'conditionValue_' + index"
		    selectedClient="ognl:selectedClient"/>
	    </span>
	    <span jwcid="@Else">
	      <span jwcid="@If" condition="ognl:dayOfWeekComponent">
		    <span jwcid="@PropertySelection" id="ognl:'conditionValue_' + index"
		      model="ognl:selectDayOfWeekModel"
		      value="ognl:dayOfWeek" />
	      </span>
	      <span jwcid="@Else">
	        <span jwcid="@If" condition="ognl:hourComponent">
		      <span jwcid="@DropdownTimePicker" id="ognl:'conditionValue_' + index"
		        value="ognl:hour" translator="translator:date,pattern=HH"/>
	        </span>
	        <span jwcid="@Else">
	          <span jwcid="@If" condition="ognl:mediaTypeComponent">
		        <span jwcid="@PropertySelection" id="ognl:'conditionValue_' + index"
		          model="ognl:selectMediaTypeModel"
		          value="ognl:mediaType" />
		      </span>
		      <span jwcid="@Else">
		        <span jwcid="@TextField" id="ognl:'conditionValue_' + index" size="8"
		          value="ognl:recipeCondition.valueCondition"
		          validators="validators:required"
		          displayName="message:condition.value" />
		      </span>
	        </span>
	      </span>
	    </span>
	  </span>
	  </td>
	  <td>
		<a jwcid="deleteCondition@LinkSubmit" selected="ognl:removeIndex" tag="ognl:index">
		  <span key="link.delete">Delete</span>
		</a>
	  </td>
	</tr>
	<tr>
	  <td colspan=4>
	    <span jwcid="@Insert" value="ognl:helpText" class="settingDescription"/>
	  </td>
	</tr>
	</span>
  </table>
<fieldset>
