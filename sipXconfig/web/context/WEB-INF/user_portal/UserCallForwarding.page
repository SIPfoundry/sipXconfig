<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification PUBLIC "-//Apache Software Foundation//Tapestry Specification 4.0//EN"
  "http://jakarta.apache.org/tapestry/dtd/Tapestry_4_0.dtd">
<page-specification class="org.sipfoundry.sipxconfig.site.user_portal.UserCallForwarding">
  <!--
    - P R O P E R T I E S
  -->
  <property name="ring" />
  <property name="action" />
  <property name="index" />

  <property name="rings" persist="session" />

  <!--
    - B E A N S
  -->
  <bean name="delayModel" class="org.sipfoundry.sipxconfig.components.EnumPropertySelectionModel"
    lifecycle="page">
    <set name="enumClass" value="@org.sipfoundry.sipxconfig.admin.forwarding.Ring$Type@class" />
  </bean>

  <!--
    - C O M P O N E N T S
  -->
  <component id="userNavigation" type="UserNavigation">
    <binding name="bean" value="user" />
  </component>
  <component id="form" type="Form">
    <binding name="delegate" value="bean:validator" />
    <binding name="listener" value="listener:submit" />
  </component>
  <component id="errors" type="ErrorMsg" />
  <component id="rings" type="For">
    <binding name="source" value="rings" />
    <binding name="value" value="ring" />
    <binding name="index" value="index" />
    <binding name="volatile" value="true" />
  </component>
  <component id="ringEditor" type="RingEditor">
    <binding name="deleteListener" value="listener:deleteRing" />
    <binding name="ring" value="ring" />
    <binding name="index" value="index" />
  </component>
  <component id="addRingLink" type="LinkSubmit">
    <binding name="selected" value="action" />
    <binding name="tag" value="literal:add" />
  </component>
  <component id="formActions" type="FormActions">
    <binding name="callback" value="callback" />
    <binding name="listener" value="listener:commit" />
  </component>
  <component id="firstCall" type="InsertText">
    <binding name="value" value="firstCallMsg" />
  </component>
  <component id="renderVoicemail" type="If">
    <binding name="condition" value="hasVoiceMail" />
  </component>
</page-specification>