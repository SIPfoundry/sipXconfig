<span jwcid="@If" condition="ognl:showOnlyExternalPlayer">
  <span jwcid="@RenderBlock" block="ognl:components.get('externalPlayerBlock')"/>
</span>
<span jwcid="@Else">
  <span jwcid="@If" condition="ognl:showPlayer">
    <span jwcid="@If" condition="ognl:autoplay">
      <span jwcid="@RenderBlock" block="ognl:components.get('internalAutoPlayerBlock')"/>
    </span>
    <span jwcid="@Else">
	  <span jwcid="@RenderBlock" block="ognl:components.get('internalPlayerBlock')"/>
    </span>
  </span>
  <span jwcid="@Else">
	<input type="image" jwcid="@ImageSubmit" image="asset:playVoicemailAsset"
		   listener="listener:notifyPlay" alt="play"/>
  </span>
</span>

<span jwcid="internalPlayerBlock@Block">
	<audio controls>
  		<source jwcid="@Any" src="ognl:url" type="audio/mpeg"/>
  		<source jwcid="@Any" src="ognl:url" type="audio/wav"/>
  		<span jwcid="@RenderBlock" block="ognl:components.get('externalPlayerBlock')"/>
	</audio>
</span>

<span jwcid="internalAutoPlayerBlock@Block">
	<audio controls="controls" autoplay="autoplay">
  		<source jwcid="@Any" src="ognl:url" type="audio/mpeg"/>
  		<source jwcid="@Any" src="ognl:url" type="audio/wav"/>  		
  		<span jwcid="@RenderBlock" block="ognl:components.get('externalPlayerBlock')"/>
	</audio>
</span>

<span jwcid="externalPlayerBlock@Block">
	<table>
	  <tr>
	     <td>
	        <span jwcid="@Insert" value="ognl:messages.getMessage('audio.player.error')"
	        style="white-space:normal" class="settingDescription"/>
	     </td>
	     <td>
		    <a jwcid="@Any" href="ognl:url">
			  <img jwcid="@Image" image="asset:playVoicemailAsset" alt="play" />
		    </a>
		 </td>
	  </tr>
	</table>
</span>